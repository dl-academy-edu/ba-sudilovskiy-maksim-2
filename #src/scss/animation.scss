@keyframes moveClouds {
  0% {
    left: -30px;
    opacity: 0;
  }
  8% {
    opacity: 1;
  }
  10% {
    transform: translateY(10px) scale(1.2);
  }
  20% {
    transform: translateY(-10px) scale(0.9);
  }
  30% {
    transform: translateY(10px) scale(1.2);
  }
  40% {
    transform: translateY(-10px) scale(0.9);
  }
  50% {
    transform: translateY(10px) scale(1.2);
  }
  60% {
    transform: translateY(-10px) scale(0.9);
  }
  70% {
    transform: translateY(10px) scale(1.2);
  }
  80% {
    transform: translateY(-10px) scale(0.9);
  }
  92% {
    opacity: 0.8;
    transform: rotate(1deg) scale(1);
  }
  94% {
    opacity: 0.6;
  }
  96% {
    opacity: 0.4;
  }
  98% {
    opacity: 0.2;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}
@keyframes moveCars {
  0% {
    left: -22%;
    opacity: 0;
  }
  1% {
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 1;
  }
}
@keyframes moveTaxi {
  0% {
    right: -500px;
    opacity: 1;
  }
  20% {
    right: 25%;
  }
  50% {
    right: 25%;
  }

  100% {
    right: 100%;
    opacity: 1;
  }
}
@keyframes moveArm {
  0% {
    opacity: 1;
    transform: rotateZ(140deg);
  }
  40% {
    transform: rotateZ(140deg);
  }
  50% {
    transform: rotateZ(0deg);
  }
  90% {
    transform: rotateZ(140deg);
  }
  100% {
    transform: rotateZ(140deg);
    opacity: 1;
  }
}
@keyframes showMessage {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.animation {
  &__title {
    font-size: 2.25rem;
    line-height: 1;
  }

  &__wrapper {
    min-height: 768px;
    position: relative;
    overflow: hidden;
    margin-bottom: 67px;
  }
  &__city {
    position: absolute;
    width: 100%;
    height: 82%;
    bottom: 0;
    z-index: 1;
  }
  &__sun {
    position: absolute;
    right: 15%;
    top: 2%;
    width: 4%;
    height: 8%;
    z-index: 2;
  }
  &__cloudsmall {
    position: absolute;
    z-index: 2;
    width: 7%;
    height: 6%;
    opacity: 0;

    &:nth-child(1) {
      top: 1%;
      animation: moveClouds 35s infinite linear 24s;
    }
    &:nth-child(2) {
      top: 6%;
      animation: moveClouds 35s infinite linear;
    }
  }
  &__cloudbig {
    position: absolute;
    z-index: 2;
    opacity: 0;
    width: 11%;
    height: 6%;
    &:nth-child(3) {
      top: 9%;
      animation: moveClouds 38s infinite linear 19s;
    }
    &:nth-child(4) {
      top: 0;
      animation: moveClouds 38s infinite linear 15s;
    }
    &:nth-child(5) {
      top: 13%;
      animation: moveClouds 38s infinite linear 10s;
    }
    &:nth-child(6) {
      top: 11%;
      animation: moveClouds 38s infinite linear 5s;
    }
  }
  &__lantern {
    position: absolute;
    width: 11%;
    height: 51%;
    top: 23%;
    left: 33%;
    z-index: 6;
  }
  &__lanternlight {
    position: absolute;
    width: 15%;
    height: 72%;
    top: 22%;
    right: 15%;
    z-index: 10;
  }
  &__car {
    position: absolute;
    opacity: 0;

    &:nth-child(11) {
      z-index: 4;
      top: 57%;
      width: 19%;
      height: 13%;
      animation: moveCars 13s infinite linear 13s;
    }
    &:nth-child(12) {
      z-index: 3;
      top: 56%;
      width: 17%;
      height: 11%;
      animation: moveCars 11s infinite linear 8s;
    }
    &:nth-child(13) {
      z-index: 2;
      top: 56%;
      width: 15%;
      height: 10%;
      animation: moveCars 10s infinite linear 4s;
    }
    &:nth-child(14) {
      z-index: 5;
      top: 55%;
      width: 20%;
      height: 16%;
      animation: moveCars 13s infinite linear;
    }
  }
  &__woman {
    position: absolute;
    z-index: 10;
    bottom: 0;
    left: 19%;
    width: 13%;
    height: 40%;
  }
  &__man {
    position: absolute;
    z-index: 9;
    bottom: 0;
    left: 27%;
    width: 14%;
    height: 50%;
  }
  &__arm {
    position: absolute;
    z-index: 8;
    bottom: 37%;
    left: 26.6%;
    width: 7%;
    height: 16%;
    opacity: 0;
    animation: moveArm 10s ease-in-out;
    transform-origin: 13% 90%;
  }
  &__taxi {
    position: absolute;
    z-index: 7;
    bottom: 12%;
    right: 0;
    width: 37%;
    height: 35%;
    opacity: 0;
    animation: moveTaxi 9.2s ease 6s;
  }
  &__msg {
    position: absolute;
    z-index: 11;
    opacity: 0;
    &:nth-child(19) {
      width: 10%;
      bottom: 41%;
      left: 14%;
      animation: showMessage 6s ease-in 2.5s;
    }
    &:nth-child(20) {
      width: 10%;
      bottom: 50%;
      left: 26%;
      animation: showMessage 6s ease-in 5s;
    }
    &:nth-child(21) {
      width: 10%;
      bottom: 40%;
      left: 48%;
      animation: showMessage 5s ease-out 8s;
    }
  }
}

//-----------MEDIA--------------->

@media (max-width: 1300px) {
  .animation__wrapper {
    min-height: calc(422px + (768 - 422) * ((100vw - 785px) / (1300 - 785)));
  }
}

@media (max-width: 785px) {
  .animation__wrapper {
    min-height: 422px;
    margin-bottom: 47px;
  }
  .animation__title {
    font-size: calc(24px + (36 - 24) * ((100vw - 392px) / (785 - 392)));
    margin-top: calc(18px + (24 - 18) * ((100vw - 392px) / (785 - 392)));
  }
}

@media (max-width: 784px) {
  .animation__wrapper {
    min-height: calc(206px + (422 - 206) * ((100vw - 392px) / (784 - 392)));
  }
}
